<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Assistant IA - Maintenance Agroalimentaire</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            background: linear-gradient(135deg, #1e3c72 0%, #2a5298 100%);
            min-height: 100vh;
            padding: 20px;
        }

        .container {
            max-width: 1400px;
            margin: 0 auto;
            display: grid;
            grid-template-columns: 300px 1fr;
            gap: 20px;
            height: calc(100vh - 40px);
        }

        .sidebar {
            background: white;
            border-radius: 15px;
            padding: 25px;
            box-shadow: 0 10px 30px rgba(0,0,0,0.2);
            overflow-y: auto;
        }

        .sidebar h2 {
            color: #1e3c72;
            margin-bottom: 20px;
            font-size: 1.3em;
            border-bottom: 3px solid #2a5298;
            padding-bottom: 10px;
        }

        .quick-action {
            background: #f0f4f8;
            border: 2px solid #e0e7ef;
            border-radius: 10px;
            padding: 15px;
            margin-bottom: 12px;
            cursor: pointer;
            transition: all 0.3s;
        }

        .quick-action:hover {
            background: #e3edf7;
            border-color: #2a5298;
            transform: translateX(5px);
        }

        .quick-action h3 {
            color: #1e3c72;
            font-size: 0.95em;
            margin-bottom: 5px;
        }

        .main-content {
            display: flex;
            flex-direction: column;
            background: white;
            border-radius: 15px;
            box-shadow: 0 10px 30px rgba(0,0,0,0.2);
            overflow: hidden;
        }

        .header {
            background: linear-gradient(135deg, #1e3c72 0%, #2a5298 100%);
            color: white;
            padding: 25px 30px;
            border-bottom: 4px solid #f39c12;
        }

        .header h1 {
            font-size: 1.8em;
            margin-bottom: 8px;
        }

        .tabs {
            display: flex;
            background: #f8f9fa;
            border-bottom: 2px solid #e0e7ef;
        }

        .tab {
            padding: 15px 25px;
            cursor: pointer;
            border: none;
            background: none;
            font-size: 1em;
            color: #666;
            transition: all 0.3s;
            border-bottom: 3px solid transparent;
        }

        .tab.active {
            color: #1e3c72;
            border-bottom-color: #2a5298;
            background: white;
        }

        .tab-content {
            display: none;
            flex: 1;
            overflow-y: auto;
        }

        .tab-content.active {
            display: block;
        }

        .chat-container {
            padding: 25px;
            background: #f8f9fa;
            min-height: 100%;
        }

        .message {
            margin-bottom: 20px;
            display: flex;
            gap: 12px;
            animation: fadeIn 0.3s;
        }

        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(10px); }
            to { opacity: 1; transform: translateY(0); }
        }

        .message.user {
            flex-direction: row-reverse;
        }

        .message-avatar {
            width: 40px;
            height: 40px;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            font-weight: bold;
            color: white;
            flex-shrink: 0;
        }

        .message.user .message-avatar {
            background: #2a5298;
        }

        .message.assistant .message-avatar {
            background: #27ae60;
        }

        .message-content {
            max-width: 70%;
            padding: 15px 20px;
            border-radius: 15px;
            line-height: 1.6;
        }

        .message.user .message-content {
            background: #2a5298;
            color: white;
            border-bottom-right-radius: 5px;
        }

        .message.assistant .message-content {
            background: white;
            color: #333;
            border: 1px solid #e0e7ef;
            border-bottom-left-radius: 5px;
        }

        .input-area {
            padding: 20px 25px;
            background: white;
            border-top: 2px solid #e0e7ef;
        }

        .input-container {
            display: flex;
            gap: 12px;
        }

        #userInput {
            flex: 1;
            padding: 15px 20px;
            border: 2px solid #e0e7ef;
            border-radius: 25px;
            font-size: 1em;
            outline: none;
            transition: border-color 0.3s;
        }

        #userInput:focus {
            border-color: #2a5298;
        }

        #sendBtn {
            padding: 15px 35px;
            background: linear-gradient(135deg, #27ae60 0%, #229954 100%);
            color: white;
            border: none;
            border-radius: 25px;
            cursor: pointer;
            font-size: 1em;
            font-weight: bold;
            transition: all 0.3s;
        }

        #sendBtn:hover:not(:disabled) {
            transform: translateY(-2px);
            box-shadow: 0 5px 15px rgba(39, 174, 96, 0.4);
        }

        #sendBtn:disabled {
            background: #95a5a6;
            cursor: not-allowed;
        }

        .form-group {
            margin-bottom: 20px;
        }

        .form-group label {
            display: block;
            margin-bottom: 8px;
            color: #1e3c72;
            font-weight: bold;
        }

        .form-group input, .form-group textarea {
            width: 100%;
            padding: 12px;
            border: 2px solid #e0e7ef;
            border-radius: 8px;
            font-size: 1em;
            outline: none;
            font-family: inherit;
        }

        .form-group textarea {
            resize: vertical;
            min-height: 100px;
        }

        .btn {
            padding: 12px 30px;
            background: #27ae60;
            color: white;
            border: none;
            border-radius: 8px;
            cursor: pointer;
            font-size: 1em;
            font-weight: bold;
            transition: all 0.3s;
        }

        .btn:hover {
            background: #229954;
            transform: translateY(-2px);
        }

        .data-table {
            width: 100%;
            border-collapse: collapse;
            margin-top: 20px;
            background: white;
        }

        .data-table th, .data-table td {
            padding: 12px;
            text-align: left;
            border-bottom: 1px solid #e0e7ef;
        }

        .data-table th {
            background: #f0f4f8;
            color: #1e3c72;
            font-weight: bold;
        }

        .data-table tr:hover {
            background: #f8f9fa;
        }

        .machine-card {
            background: white;
            border: 2px solid #e0e7ef;
            border-radius: 10px;
            padding: 15px;
            margin-bottom: 12px;
            cursor: pointer;
            transition: all 0.3s;
        }

        .machine-card:hover {
            border-color: #2a5298;
            box-shadow: 0 4px 15px rgba(0,0,0,0.1);
        }

        .machine-card h4 {
            color: #1e3c72;
            margin-bottom: 8px;
        }

        .loading {
            display: none;
            text-align: center;
            padding: 15px;
            color: #666;
        }

        .loading.active {
            display: block;
        }

        .loading-dots span {
            animation: blink 1.4s infinite;
            font-size: 1.5em;
        }

        .loading-dots span:nth-child(2) {
            animation-delay: 0.2s;
        }

        .loading-dots span:nth-child(3) {
            animation-delay: 0.4s;
        }

        @keyframes blink {
            0%, 80%, 100% { opacity: 0; }
            40% { opacity: 1; }
        }

        .welcome-message {
            text-align: center;
            padding: 40px;
            color: #666;
        }

        .welcome-message h2 {
            color: #1e3c72;
            margin-bottom: 15px;
        }

        .search-box {
            margin-bottom: 20px;
        }

        .search-box input {
            width: 100%;
            padding: 12px 20px;
            border: 2px solid #e0e7ef;
            border-radius: 25px;
            font-size: 1em;
        }

        .sql-info {
            background: #f0f4f8;
            border-left: 4px solid #2a5298;
            padding: 15px;
            margin-bottom: 20px;
            border-radius: 5px;
        }

        .sql-info h3 {
            color: #1e3c72;
            margin-bottom: 10px;
        }

        .sql-info pre {
            background: #2c3e50;
            color: #ecf0f1;
            padding: 15px;
            border-radius: 5px;
            overflow-x: auto;
            font-size: 0.9em;
        }

        @media (max-width: 968px) {
            .container {
                grid-template-columns: 1fr;
                height: auto;
            }
        }
    </style>
</head>
<body>
    <div class="container">
        <aside class="sidebar">
            <h2>üîß Actions Rapides</h2>
            
            <div class="quick-action" onclick="showTab('chat')">
                <h3>üí¨ Assistant IA</h3>
            </div>

            <div class="quick-action" onclick="showTab('machines')">
                <h3>üè≠ Liste des Machines</h3>
            </div>

            <div class="quick-action" onclick="showTab('add')">
                <h3>‚ûï Ajouter une Panne</h3>
            </div>

            <div class="quick-action" onclick="showTab('history')">
                <h3>üìä Historique Complet</h3>
            </div>

            <div class="quick-action" onclick="showTab('database')">
                <h3>üíæ Structure SQL</h3>
            </div>
        </aside>

        <main class="main-content">
            <div class="header">
                <h1>ü§ñ Assistant IA - Maintenance Agroalimentaire</h1>
                <p>Base de donn√©es des pannes et r√©solutions</p>
            </div>

            <div class="tabs">
                <button class="tab active" onclick="showTab('chat')">üí¨ Assistant IA</button>
                <button class="tab" onclick="showTab('machines')">üè≠ Machines</button>
                <button class="tab" onclick="showTab('add')">‚ûï Ajouter</button>
                <button class="tab" onclick="showTab('history')">üìä Historique</button>
                <button class="tab" onclick="showTab('database')">üíæ Base SQL</button>
            </div>

            <!-- Tab Chat -->
            <div id="chatTab" class="tab-content active">
                <div class="chat-container" id="chatContainer">
                    <div class="welcome-message">
                        <h2>Bienvenue sur votre assistant de maintenance !</h2>
                        <p>Demandez-moi l'historique d'une machine ou des conseils de d√©pannage.</p>
                        <p><strong>Exemple :</strong> "Quels sont les probl√®mes du Pasteurisateur ?"</p>
                    </div>
                </div>
                <div class="loading" id="loading">
                    <div class="loading-dots">
                        <span>‚Ä¢</span>
                        <span>‚Ä¢</span>
                        <span>‚Ä¢</span>
                    </div>
                    L'assistant analyse...
                </div>
                <div class="input-area">
                    <div class="input-container">
                        <input 
                            type="text" 
                            id="userInput" 
                            placeholder="Posez votre question..."
                            onkeypress="if(event.key === 'Enter') sendMessage()"
                        >
                        <button id="sendBtn" onclick="sendMessage()">Envoyer</button>
                    </div>
                </div>
            </div>

            <!-- Tab Machines -->
            <div id="machinesTab" class="tab-content">
                <div style="padding: 25px;">
                    <h2>Liste des Machines</h2>
                    <div class="search-box">
                        <input type="text" id="machineSearch" placeholder="üîç Rechercher..." onkeyup="filterMachines()">
                    </div>
                    <div id="machinesList"></div>
                </div>
            </div>

            <!-- Tab Ajout -->
            <div id="addTab" class="tab-content">
                <div style="padding: 25px;">
                    <h2>Ajouter une Panne</h2>
                    <form id="breakdownForm" onsubmit="addBreakdown(event)">
                        <div class="form-group">
                            <label>Nom de la Machine *</label>
                            <input type="text" id="machineName" required placeholder="Ex: Pasteurisateur">
                        </div>
                        <div class="form-group">
                            <label>Probl√®me Rencontr√© *</label>
                            <textarea id="problem" required placeholder="D√©crivez le probl√®me..."></textarea>
                        </div>
                        <div class="form-group">
                            <label>Cause *</label>
                            <textarea id="cause" required placeholder="Cause identifi√©e..."></textarea>
                        </div>
                        <div class="form-group">
                            <label>R√©solution *</label>
                            <textarea id="resolution" required placeholder="Solution appliqu√©e..."></textarea>
                        </div>
                        <button type="submit" class="btn">üìù Enregistrer</button>
                    </form>
                </div>
            </div>

            <!-- Tab Historique -->
            <div id="historyTab" class="tab-content">
                <div style="padding: 25px;">
                    <h2>Historique des Pannes</h2>
                    <div id="historyList"></div>
                </div>
            </div>

            <!-- Tab Base de donn√©es -->
            <div id="databaseTab" class="tab-content">
                <div style="padding: 25px;">
                    <h2>Structure de la Base de Donn√©es MySQL</h2>
                    
                    <div class="sql-info">
                        <h3>üìã Cr√©ation de la Table</h3>
                        <pre>CREATE TABLE pannes (
    id INT AUTO_INCREMENT PRIMARY KEY,
    machine_name VARCHAR(255) NOT NULL,
    problem TEXT NOT NULL,
    cause TEXT NOT NULL,
    resolution TEXT NOT NULL,
    date_created TIMESTAMP DEFAULT CURRENT_TIMESTAMP
);</pre>
                    </div>

                    <div class="sql-info">
                        <h3>‚ûï Insertion de Donn√©es</h3>
                        <pre>INSERT INTO pannes (machine_name, problem, cause, resolution) 
VALUES ('Pasteurisateur', 'Temp√©rature instable', 'Sonde PT100 d√©fectueuse', 'Remplacement de la sonde');</pre>
                    </div>

                    <div class="sql-info">
                        <h3>üîç Recherche par Machine</h3>
                        <pre>SELECT * FROM pannes 
WHERE machine_name = 'Pasteurisateur' 
ORDER BY date_created DESC;</pre>
                    </div>

                    <div class="sql-info">
                        <h3>üìä Statistiques</h3>
                        <pre>SELECT machine_name, COUNT(*) as total_pannes 
FROM pannes 
GROUP BY machine_name 
ORDER BY total_pannes DESC;</pre>
                    </div>

                    <button class="btn" onclick="downloadSQL()">üì• T√©l√©charger le Script SQL</button>
                </div>
            </div>
        </main>
    </div>

    <script>
        // Base de donn√©es simplifi√©e
        class Database {
            constructor() {
                this.data = [];
                this.initData();
            }

            initData() {
                const savedData = localStorage.getItem('pannes_db');
                if (savedData) {
                    this.data = JSON.parse(savedData);
                } else {
                    // Donn√©es initiales
                    this.data = [
                        {
                            id: 1,
                            machine_name: 'Pasteurisateur',
                            problem: 'Temp√©rature de pasteurisation instable',
                            cause: 'Sonde de temp√©rature PT100 d√©fectueuse',
                            resolution: 'Remplacement de la sonde PT100 et recalibration du syst√®me',
                            date_created: '2026-02-05 09:30:00'
                        },
                        {
                            id: 2,
                            machine_name: 'Ligne de Remplissage',
                            problem: 'Arr√™t intempestif de la ligne',
                            cause: 'Capteur de niveau encrass√©',
                            resolution: 'Nettoyage du capteur ultrason et v√©rification du c√¢blage',
                            date_created: '2026-02-06 14:15:00'
                        },
                        {
                            id: 3,
                            machine_name: 'Convoyeur Central',
                            problem: 'Bruit anormal et vibrations',
                            cause: 'Roulements us√©s et courroie d√©tendue',
                            resolution: 'Remplacement des roulements et tension de la courroie',
                            date_created: '2026-02-07 11:00:00'
                        },
                        {
                            id: 4,
                            machine_name: 'Syst√®me CIP',
                            problem: 'Perte de pression dans le circuit',
                            cause: 'Fuite au niveau des joints de pompe',
                            resolution: 'Remplacement des joints toriques et test d\'√©tanch√©it√©',
                            date_created: '2026-02-08 08:45:00'
                        },
                        {
                            id: 5,
                            machine_name: 'Pasteurisateur',
                            problem: 'Alarme haute temp√©rature',
                            cause: 'Vanne de r√©gulation bloqu√©e en position ouverte',
                            resolution: 'D√©montage et nettoyage de la vanne, remplacement du joint',
                            date_created: '2026-02-09 10:20:00'
                        },
                        {
                            id: 6,
                            machine_name: 'Ligne de Remplissage',
                            problem: 'Dosage impr√©cis',
                            cause: 'Pompe doseuse avec membrane us√©e',
                            resolution: 'Remplacement du kit membrane et recalibration',
                            date_created: '2026-02-10 07:30:00'
                        }
                    ];
                    this.save();
                }
            }

            save() {
                localStorage.setItem('pannes_db', JSON.stringify(this.data));
            }

            getAll() {
                return this.data;
            }

            getByMachine(machineName) {
                return this.data.filter(item => 
                    item.machine_name.toLowerCase().includes(machineName.toLowerCase())
                );
            }

            add(item) {
                const id = this.data.length > 0 ? Math.max(...this.data.map(d => d.id)) + 1 : 1;
                const newItem = {
                    id,
                    ...item,
                    date_created: new Date().toISOString().slice(0, 19).replace('T', ' ')
                };
                this.data.unshift(newItem);
                this.save();
                return newItem;
            }

            getMachineNames() {
                const names = [...new Set(this.data.map(d => d.machine_name))];
                return names.sort();
            }
        }

        const db = new Database();
        let conversationHistory = [];

        const systemPrompt = `Tu es un expert en maintenance agroalimentaire avec acc√®s √† une base de donn√©es de pannes.

Quand l'utilisateur demande l'historique d'une machine, je te fournirai les donn√©es en JSON.

Tu dois:
- Analyser les pannes r√©currentes
- Identifier les patterns (m√™me cause, m√™me type de probl√®me)
- Proposer des actions pr√©ventives
- Donner des conseils pratiques bas√©s sur l'historique
- √ätre clair et structur√©`;

        // Interface Functions
        function showTab(tabName) {
            document.querySelectorAll('.tab-content').forEach(t => t.classList.remove('active'));
            document.querySelectorAll('.tab').forEach(t => t.classList.remove('active'));

            const tabs = {
                'chat': 'chatTab',
                'machines': 'machinesTab',
                'add': 'addTab',
                'history': 'historyTab',
                'database': 'databaseTab'
            };

            document.getElementById(tabs[tabName]).classList.add('active');
            
            const tabButtons = document.querySelectorAll('.tab');
            tabButtons.forEach((btn, index) => {
                if (btn.textContent.includes(tabName === 'chat' ? 'Assistant' : 
                    tabName === 'machines' ? 'Machines' :
                    tabName === 'add' ? 'Ajouter' :
                    tabName === 'history' ? 'Historique' : 'Base')) {
                    btn.classList.add('active');
                }
            });

            if (tabName === 'machines') loadMachines();
            if (tabName === 'history') loadHistory();
        }

        function loadMachines() {
            const machines = db.getMachineNames();
            const container = document.getElementById('machinesList');
            
            container.innerHTML = machines.map(machine => {
                const pannes = db.getByMachine(machine);
                return `
                    <div class="machine-card" onclick="viewMachineHistory('${machine}')">
                        <h4>üè≠ ${machine}</h4>
                        <p style="color: #666; margin-top: 8px;">
                            ${pannes.length} panne(s) enregistr√©e(s)
                        </p>
                    </div>
                `;
            }).join('');
        }

        function filterMachines() {
            const search = document.getElementById('machineSearch').value.toLowerCase();
            const cards = document.querySelectorAll('.machine-card');
            
            cards.forEach(card => {
                const text = card.textContent.toLowerCase();
                card.style.display = text.includes(search) ? 'block' : 'none';
            });
        }

        function loadHistory() {
            const data = db.getAll();
            const container = document.getElementById('historyList');
            
            container.innerHTML = `
                <table class="data-table">
                    <thead>
                        <tr>
                            <th>Date</th>
                            <th>Machine</th>
                            <th>Probl√®me</th>
                            <th>Cause</th>
                            <th>R√©solution</th>
                        </tr>
                    </thead>
                    <tbody>
                        ${data.map(item => `
                            <tr>
                                <td>${new Date(item.date_created).toLocaleDateString('fr-FR')}</td>
                                <td><strong>${item.machine_name}</strong></td>
                                <td>${item.problem}</td>
                                <td>${item.cause}</td>
                                <td>${item.resolution}</td>
                            </tr>
                        `).join('')}
                    </tbody>
                </table>
            `;
        }

        function addBreakdown(event) {
            event.preventDefault();
            
            const newItem = {
                machine_name: document.getElementById('machineName').value,
                problem: document.getElementById('problem').value,
                cause: document.getElementById('cause').value,
                resolution: document.getElementById('resolution').value
            };

            db.add(newItem);
            alert('‚úÖ Panne enregistr√©e avec succ√®s !');
            document.getElementById('breakdownForm').reset();
        }

        function viewMachineHistory(machineName) {
            userInput.value = `Donne-moi l'historique et l'analyse des pannes de la machine ${machineName}`;
            showTab('chat');
            setTimeout(() => sendMessage(), 100);
        }

        // Chat avec IA
        function addMessage(content, role) {
            const welcomeMsg = chatContainer.querySelector('.welcome-message');
            if (welcomeMsg) welcomeMsg.remove();

            const messageDiv = document.createElement('div');
            messageDiv.className = `message ${role}`;
            
            const avatar = document.createElement('div');
            avatar.className = 'message-avatar';
            avatar.textContent = role === 'user' ? 'T' : 'ü§ñ';
            
            const messageContent = document.createElement('div');
            messageContent.className = 'message-content';
            messageContent.innerHTML = content.replace(/\n/g, '<br>');
            
            messageDiv.appendChild(avatar);
            messageDiv.appendChild(messageContent);
            chatContainer.appendChild(messageDiv);
            
            chatContainer.scrollTop = chatContainer.scrollHeight;
        }

        async function sendMessage() {
            const message = userInput.value.trim();
            if (!message) return;

            userInput.disabled = true;
            sendBtn.disabled = true;

            addMessage(message, 'user');
            userInput.value = '';

            // Chercher si une machine est mentionn√©e
            let contextData = null;
            const machines = db.getMachineNames();
            
            for (let machine of machines) {
                if (message.toLowerCase().includes(machine.toLowerCase())) {
                    const pannes = db.getByMachine(machine);
                    contextData = {
                        machine: machine,
                        pannes: pannes
                    };
                    break;
                }
            }

            let enrichedMessage = message;
            if (contextData) {
                enrichedMessage = `${message}\n\nDonn√©es SQL: ${JSON.stringify(contextData, null, 2)}`;
            }

            conversationHistory.push({
                role: 'user',
                content: enrichedMessage
            });

            loading.classList.add('active');

            try {
                const response = await fetch('https://api.anthropic.com/v1/messages', {
                    method: 'POST',
                    headers: {
                        'Content-Type': 'application/json',
                    },
                    body: JSON.stringify({
                        model: 'claude-sonnet-4-20250514',
                        max_tokens: 1000,
                        system: systemPrompt,
                        messages: conversationHistory
                    })
                });

                const data = await response.json();
                
                if (data.content && data.content[0] && data.content[0].text) {
                    const assistantMessage = data.content[0].text;
                    conversationHistory.push({
                        role: 'assistant',
                        content: assistantMessage
                    });
                    addMessage(assistantMessage, 'assistant');
                } else {
                    addMessage("D√©sol√©, je n'ai pas pu traiter votre demande.", 'assistant');
                }
            } catch (error) {
                console.error('Erreur:', error);
                addMessage("Erreur de connexion √† l'API.", 'assistant');
            }

            loading.classList.remove('active');
            userInput.disabled = false;
            sendBtn.disabled = false;
            userInput.focus();
        }

        function downloadSQL() {
            const sqlContent = `-- Base de donn√©es Maintenance Agroalimentaire
-- Cr√©ation de la table

CREATE TABLE pannes (
    id INT AUTO_INCREMENT PRIMARY KEY,
    machine_name VARCHAR(255) NOT NULL,
    problem TEXT NOT NULL,
    cause TEXT NOT NULL,
    resolution TEXT NOT NULL,
    date_created TIMESTAMP DEFAULT CURRENT_TIMESTAMP,
    INDEX idx_machine (machine_name),
    INDEX idx_date (date_created)
);

-- Insertion des donn√©es
${db.getAll().map(item => `
INSERT INTO pannes (machine_name, problem, cause, resolution, date_created) 
VALUES (
    '${item.machine_name.replace(/'/g, "''")}',
    '${item.problem.replace(/'/g, "''")}',
    '${item.cause.replace(/'/g, "''")}',
    '${item.resolution.replace(/'/g, "''")}',
    '${item.date_created}'
);`).join('\n')}

-- Requ√™tes utiles

-- Historique par machine
SELECT * FROM pannes WHERE machine_name = 'Pasteurisateur' ORDER BY date_created DESC;

-- Statistiques
SELECT machine_name, COUNT(*) as total_pannes FROM pannes GROUP BY machine_name;

-- Recherche par probl√®me
SELECT * FROM pannes WHERE problem LIKE '%temp√©rature%';
`;

            const blob = new Blob([sqlContent], { type: 'text/plain' });
            const url = URL.createObjectURL(blob);
            const a = document.createElement('a');
            a.href = url;
            a.download = 'maintenance_agroalimentaire.sql';
            a.click();
            URL.revokeObjectURL(url);
        }

        // Initialisation
        window.addEventListener('load', () => {
            userInput.focus();
        });
    </script>
</body>
</html>